<div class="container" fxLayout="row" fxLayoutAlign="center none">
    <div fxFlex="80%">
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    Orders
                </mat-card-title>
            </mat-card-header>
            <hr />
            <mat-card-content>
                <mat-card-actions align="end">
                    <mat-form-field class="search-param search" appearance="fill">
                        <mat-label>Search</mat-label>
                        <input type="search" matInput placeholder="Search for Payment Id" (change)="onChange('search', $event)">
                    </mat-form-field>
                    <mat-form-field class="search-param" appearance="fill">
                        <mat-label>Payment Gateway</mat-label>
                        <mat-select (selectionChange)="onChange('gateway', $event)">
                            <mat-option value="">Select Gateway</mat-option>
                            <mat-option value="GCash">GCash</mat-option>
                            <mat-option value="PayPal">PayPal</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field class="search-param" appearance="fill">
                        <mat-label>Payment Status</mat-label>
                        <mat-select (selectionChange)="onChange('status', $event)">
                            <mat-option value="">Select Status</mat-option>
                            <mat-option *ngFor="let stat of status" value="{{stat}}">{{stat}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <section>
                        <button mat-raised-button class="button" (click)="clickSearch()">
                            <mat-icon>search</mat-icon>Search
                        </button>
                    </section>
                </mat-card-actions>

                <div class="container" fxLayout="row" fxLayoutAlign="center none animate" *ngIf="initializing">
                    <mat-spinner></mat-spinner>
                </div>

                <div class="container" fxLayout="row" fxLayoutAlign="center none" *ngIf="!withRecords">
                    <div fxFlex="50%" class="text-center no-records animate">
                        <mat-icon>dashboard</mat-icon>
                        <p>No orders exist.</p>
                    </div>
                    <mat-icon> </mat-icon>
                </div>

                <div *ngIf="!initializing && withRecords">
                    <div class="header">
                        <p style="width: 15%">ID</p>
                        <p style="width: 15%">USER</p>
                        <p style="width: 10%">GATEWAY</p>
                        <p style="width: 20%">PAYMENT</p>
                        <p style="width: 14%; text-align: center;">STATUS</p>
                        <p style="width: 8%; text-align: right;">TOTAL AMOUNT</p>
                        <p style="width: 15%; text-align: right;">ORDER DATE</p>
                    </div>
                    <div *ngFor="let item of displayPayments">
                        <app-order-thumb [payment]="item"></app-order-thumb>
                    </div>
                </div>

                <div class="pagination" *ngIf="!initializing && withRecords">
                    <label>ITEMS PER PAGE:</label>
                    <select [value]="limit" (change)="changeLimit($event)">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                    <label>{{indexLabel}}</label>
                    <span (click)="first()" [class]="prevEnable==true?'page-tool':'page-tool-off'"><mat-icon>first_page</mat-icon></span>
                    <span (click)="prev()" [class]="prevEnable==true?'page-tool':'page-tool-off'"><mat-icon>chevron_left</mat-icon></span>
                    <span (click)="next()" [class]="nextEnable==true?'page-tool':'page-tool-off'"><mat-icon>chevron_right</mat-icon></span>
                    <span (click)="last()" [class]="nextEnable==true?'page-tool':'page-tool-off'"><mat-icon>last_page</mat-icon></span>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>